---
description: 感測器由三個主要元件：資料收集器、磁碟隊列和資料發送器。
title: 什麼是基本元件
uuid: 32e6e8d9-90ee-4db1-8883-dbdf245df26f
translation-type: tm+mt
source-git-commit: aec1f7b14198cdde91f61d490a235022943bfedb

---


# 什麼是基本元件{#what-are-basic-components}

感測器由三個主要元件組成：資料收集器、磁碟佇列和資料傳送器。

![](assets/Visual-Sensor.png)

## 資料收集器 {#section-f970eaff30364a3c8106d5ec9c1b5caa}

資料收集器（收集器）是NSAPI、ISAPI、J2EE篩選器servlet或Apache模組，會在Web伺服器程式中執行。

它會擷取每個Web伺服器處理之HTTP要求的原始事件資料，並將該資訊儲存在磁碟佇列中。 如果在同一台電腦上運行多個Web伺服器實例，則每個實例都載入自己的收集器模組實例；但是，收集器的所有實例都會將其事件資料寫入同一磁碟隊列。

## 磁碟隊列 {#section-41aac77ab30e48478d1b31eac288df05}

磁碟隊列（隊列）是容錯的、FIFO（先入先出）記憶體映射隊列檔案，用於緩衝感測器收集的原始事件資料，為安裝該資料的Web伺服器上收集的事件資料提供臨時儲存。

為防止隊列在不受限制的情況下擴展（從而佔用所有可用磁碟空間），隊列將保留在固定大小的檔案中，這意味著隊列僅保存與給定容量相同的事件資料。 安裝感測器時，隊列檔案的大小在感測器配置檔案txlogd.conf的QueueSize參數中配置。 有關txlogd.conf參數的資訊，請參見Sensor Txlogd.conf File Parameters。

建立後，檔案的物理長度不會增長或縮小。 收集器只會將新事件資料儲存到佇列中，而傳送器會從中提取事件。 如果收集器到達檔案的結尾，它將停止寫入隊列檔案。

一般而言，發射器從佇列中提取事件的速度，就像收集器放入事件一樣快。 不過，如果傳送器與Insight Server之間的連線緩慢或無法使用，佇列可填入未傳送的事件。 在此情況下，收集器停止收集資料，直到發射器拉下隊列。 Web伺服器在此期間處理的要求資訊會永久遺失。

**確定隊列大小**

在安裝感測器之前，必須確定隊列需要多大。 為防止永久資料遺失，請務必建立足夠大的佇列，以容納在連線至Insight Server的最長可能中斷期間累積的事件數（亦即，在數天尖峰活動中有足夠的儲存空間）。 必須將隊列配置為保存足夠的事件資料，以便系統管理員有時間恢復目標Insight Server的網路可訪問性，或修復或替換Insight Server而不丟失任何資料。 如果感測器出現故障，並且有效且可訪問的隊列檔案無法保存事件資料，則後續資料將丟失。

>[!NOTE]
>
>Sensor運行的每台電腦的管理員必須瞭解本地隊列檔案的獨特性，以確保他們不會將其視為可刪除、存檔或壓縮的普通日誌檔案。

Adobe建議將佇列設定為至少容納安裝感測器之伺服器所產生的十(10)個尖峰日事件資料。 也就是，以去年任何高峰日的事件資料量乘以十。

此建議假設下列條件：

* 貴公司的資訊技術團隊正在按照本指南Administering Sensor中詳細說明的方式監控每個感測器，並且每天至少監控一次。 如果不是這樣，應適當延長這段時間。
* 貴公司的資訊技術團隊可在72小時內恢復網路協助功能，或更換或修復任何已安裝的Insight伺服器。 如果不是這樣，應適當延長這段時間。
* 感測器的配置保持不變。
* 沒有外部事件（例如大型行銷促銷活動）會導致網站伺服器產生的事件資料量大幅增加。

您選擇的佇列大小，主要取決於您公司在回應時間和週末／假期系統管理方面的做法和政策，所需的系統監控等級。 由於較大的佇列大小較好，Adobe建議您的公司盡量增加佇列。

>[!NOTE]
>
>較大的佇列檔案大小不會影響效能。

如需有關調整佇列大小的進一步建議，請聯絡Adobe諮詢服務。

## 資料傳送器 {#section-2dc03d37d73b4cc6bdd5af6b346350d4}

發射器是獨立進程（例如，基於UNIX的電腦上的守護程式或Windows電腦上的服務），與Web伺服器在同一台電腦上執行。

發射器會從磁碟佇列中讀取事件資料，加以壓縮，並透過HTTP/S傳送至您指定的Insight Server，在此處處理並儲存在 **.vsl** 檔案中。
